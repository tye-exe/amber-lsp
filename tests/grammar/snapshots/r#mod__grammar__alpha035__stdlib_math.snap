---
source: tests/grammar/alpha035.rs
expression: parse_unwrap(&tokenize(&stdlib))
---
[
    (
        Statement(
            (
                DocString(
                    "Sum the array content",
                ),
                0..26,
            ),
        ),
        0..26,
    ),
    (
        FunctionDefinition(
            [
                (
                    AllowAbsurdCast,
                    26..46,
                ),
            ],
            (
                true,
                47..50,
            ),
            (
                "fun",
                51..54,
            ),
            (
                "sum",
                55..58,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            59..59,
                        ),
                        (
                            "list",
                            59..63,
                        ),
                        (
                            [Num],
                            65..70,
                        ),
                    ),
                    59..70,
                ),
            ],
            Some(
                (
                    Num,
                    73..76,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            83..89,
                        ),
                        Some(
                            (
                                Cast(
                                    (
                                        Command(
                                            [
                                                (
                                                    Unsafe,
                                                    90..96,
                                                ),
                                            ],
                                            [
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    97..98,
                                                ),
                                                (
                                                    Text(
                                                        "echo",
                                                    ),
                                                    98..102,
                                                ),
                                                (
                                                    Text(
                                                        "\"",
                                                    ),
                                                    103..104,
                                                ),
                                                (
                                                    Expression(
                                                        (
                                                            Var(
                                                                (
                                                                    "list",
                                                                    105..109,
                                                                ),
                                                            ),
                                                            105..109,
                                                        ),
                                                    ),
                                                    104..110,
                                                ),
                                                (
                                                    Text(
                                                        "\"",
                                                    ),
                                                    110..111,
                                                ),
                                                (
                                                    Text(
                                                        "|",
                                                    ),
                                                    112..113,
                                                ),
                                                (
                                                    Text(
                                                        "awk",
                                                    ),
                                                    114..117,
                                                ),
                                                (
                                                    Text(
                                                        "'",
                                                    ),
                                                    118..119,
                                                ),
                                                (
                                                    Escape(
                                                        "{",
                                                    ),
                                                    119..121,
                                                ),
                                                (
                                                    Text(
                                                        "s",
                                                    ),
                                                    121..122,
                                                ),
                                                (
                                                    Text(
                                                        "=",
                                                    ),
                                                    122..123,
                                                ),
                                                (
                                                    Text(
                                                        "0",
                                                    ),
                                                    123..124,
                                                ),
                                                (
                                                    Text(
                                                        ";",
                                                    ),
                                                    124..125,
                                                ),
                                                (
                                                    Text(
                                                        "for",
                                                    ),
                                                    126..129,
                                                ),
                                                (
                                                    Text(
                                                        "(",
                                                    ),
                                                    130..131,
                                                ),
                                                (
                                                    Text(
                                                        "i",
                                                    ),
                                                    131..132,
                                                ),
                                                (
                                                    Text(
                                                        "=",
                                                    ),
                                                    132..133,
                                                ),
                                                (
                                                    Text(
                                                        "1",
                                                    ),
                                                    133..134,
                                                ),
                                                (
                                                    Text(
                                                        ";",
                                                    ),
                                                    134..135,
                                                ),
                                                (
                                                    Text(
                                                        "i",
                                                    ),
                                                    136..137,
                                                ),
                                                (
                                                    Text(
                                                        "<=",
                                                    ),
                                                    137..139,
                                                ),
                                                (
                                                    Text(
                                                        "NF",
                                                    ),
                                                    139..141,
                                                ),
                                                (
                                                    Text(
                                                        ";",
                                                    ),
                                                    141..142,
                                                ),
                                                (
                                                    Text(
                                                        "i",
                                                    ),
                                                    143..144,
                                                ),
                                                (
                                                    Text(
                                                        "+",
                                                    ),
                                                    144..145,
                                                ),
                                                (
                                                    Text(
                                                        "+",
                                                    ),
                                                    145..146,
                                                ),
                                                (
                                                    Text(
                                                        ")",
                                                    ),
                                                    146..147,
                                                ),
                                                (
                                                    Text(
                                                        "s",
                                                    ),
                                                    148..149,
                                                ),
                                                (
                                                    Text(
                                                        "+=",
                                                    ),
                                                    149..151,
                                                ),
                                                (
                                                    Escape(
                                                        "$",
                                                    ),
                                                    151..153,
                                                ),
                                                (
                                                    Text(
                                                        "i",
                                                    ),
                                                    153..154,
                                                ),
                                                (
                                                    Text(
                                                        ";",
                                                    ),
                                                    154..155,
                                                ),
                                                (
                                                    Text(
                                                        "print",
                                                    ),
                                                    156..161,
                                                ),
                                                (
                                                    Text(
                                                        "s",
                                                    ),
                                                    162..163,
                                                ),
                                                (
                                                    Text(
                                                        "}",
                                                    ),
                                                    163..164,
                                                ),
                                                (
                                                    Text(
                                                        "'",
                                                    ),
                                                    164..165,
                                                ),
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    165..166,
                                                ),
                                            ],
                                            None,
                                        ),
                                        90..166,
                                    ),
                                    (
                                        "as",
                                        167..169,
                                    ),
                                    (
                                        Num,
                                        170..173,
                                    ),
                                ),
                                90..173,
                            ),
                        ),
                    ),
                    83..173,
                ),
            ],
        ),
        26..175,
    ),
    (
        Statement(
            (
                DocString(
                    "Returns the number rounded to the nearest integer",
                ),
                177..231,
            ),
        ),
        177..231,
    ),
    (
        FunctionDefinition(
            [
                (
                    AllowAbsurdCast,
                    231..251,
                ),
            ],
            (
                true,
                252..255,
            ),
            (
                "fun",
                256..259,
            ),
            (
                "round",
                260..265,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            266..266,
                        ),
                        (
                            "number",
                            266..272,
                        ),
                        (
                            Num,
                            274..277,
                        ),
                    ),
                    266..277,
                ),
            ],
            Some(
                (
                    Num,
                    280..283,
                ),
            ),
            [
                (
                    IfCondition(
                        (
                            "if",
                            290..292,
                        ),
                        (
                            IfCondition(
                                (
                                    Gt(
                                        (
                                            Var(
                                                (
                                                    "number",
                                                    293..299,
                                                ),
                                            ),
                                            293..299,
                                        ),
                                        (
                                            Number(
                                                (
                                                    0.0,
                                                    302..303,
                                                ),
                                            ),
                                            302..303,
                                        ),
                                    ),
                                    293..303,
                                ),
                                (
                                    Block(
                                        [],
                                        [
                                            (
                                                Return(
                                                    (
                                                        "return",
                                                        314..320,
                                                    ),
                                                    Some(
                                                        (
                                                            Cast(
                                                                (
                                                                    Command(
                                                                        [
                                                                            (
                                                                                Unsafe,
                                                                                321..327,
                                                                            ),
                                                                        ],
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                328..329,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "echo",
                                                                                ),
                                                                                329..333,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                334..335,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "(",
                                                                                ),
                                                                                335..336,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "number",
                                                                                                337..343,
                                                                                            ),
                                                                                        ),
                                                                                        337..343,
                                                                                    ),
                                                                                ),
                                                                                336..344,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "+",
                                                                                ),
                                                                                344..345,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "0",
                                                                                ),
                                                                                345..346,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    ".",
                                                                                ),
                                                                                346..347,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "5",
                                                                                ),
                                                                                347..348,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    ")",
                                                                                ),
                                                                                348..349,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "/",
                                                                                ),
                                                                                349..350,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "1",
                                                                                ),
                                                                                350..351,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                351..352,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "|",
                                                                                ),
                                                                                353..354,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "bc",
                                                                                ),
                                                                                355..357,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                357..358,
                                                                            ),
                                                                        ],
                                                                        None,
                                                                    ),
                                                                    321..358,
                                                                ),
                                                                (
                                                                    "as",
                                                                    359..361,
                                                                ),
                                                                (
                                                                    Num,
                                                                    362..365,
                                                                ),
                                                            ),
                                                            321..365,
                                                        ),
                                                    ),
                                                ),
                                                314..365,
                                            ),
                                        ],
                                    ),
                                    304..371,
                                ),
                            ),
                            293..371,
                        ),
                        None,
                    ),
                    290..371,
                ),
                (
                    Return(
                        (
                            "return",
                            377..383,
                        ),
                        Some(
                            (
                                Cast(
                                    (
                                        Command(
                                            [
                                                (
                                                    Unsafe,
                                                    384..390,
                                                ),
                                            ],
                                            [
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    391..392,
                                                ),
                                                (
                                                    Text(
                                                        "echo",
                                                    ),
                                                    392..396,
                                                ),
                                                (
                                                    Text(
                                                        "\"",
                                                    ),
                                                    397..398,
                                                ),
                                                (
                                                    Text(
                                                        "(",
                                                    ),
                                                    398..399,
                                                ),
                                                (
                                                    Expression(
                                                        (
                                                            Var(
                                                                (
                                                                    "number",
                                                                    400..406,
                                                                ),
                                                            ),
                                                            400..406,
                                                        ),
                                                    ),
                                                    399..407,
                                                ),
                                                (
                                                    CommandOption(
                                                        "-0",
                                                    ),
                                                    407..409,
                                                ),
                                                (
                                                    Text(
                                                        ".",
                                                    ),
                                                    409..410,
                                                ),
                                                (
                                                    Text(
                                                        "5",
                                                    ),
                                                    410..411,
                                                ),
                                                (
                                                    Text(
                                                        ")",
                                                    ),
                                                    411..412,
                                                ),
                                                (
                                                    Text(
                                                        "/",
                                                    ),
                                                    412..413,
                                                ),
                                                (
                                                    Text(
                                                        "1",
                                                    ),
                                                    413..414,
                                                ),
                                                (
                                                    Text(
                                                        "\"",
                                                    ),
                                                    414..415,
                                                ),
                                                (
                                                    Text(
                                                        "|",
                                                    ),
                                                    416..417,
                                                ),
                                                (
                                                    Text(
                                                        "bc",
                                                    ),
                                                    418..420,
                                                ),
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    420..421,
                                                ),
                                            ],
                                            None,
                                        ),
                                        384..421,
                                    ),
                                    (
                                        "as",
                                        422..424,
                                    ),
                                    (
                                        Num,
                                        425..428,
                                    ),
                                ),
                                384..428,
                            ),
                        ),
                    ),
                    377..428,
                ),
            ],
        ),
        231..430,
    ),
    (
        Statement(
            (
                DocString(
                    "Returns the largest integer less than or equal to the number",
                ),
                432..497,
            ),
        ),
        432..497,
    ),
    (
        FunctionDefinition(
            [
                (
                    AllowAbsurdCast,
                    497..517,
                ),
            ],
            (
                true,
                518..521,
            ),
            (
                "fun",
                522..525,
            ),
            (
                "floor",
                526..531,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            532..532,
                        ),
                        (
                            "number",
                            532..538,
                        ),
                        (
                            Num,
                            540..543,
                        ),
                    ),
                    532..543,
                ),
            ],
            Some(
                (
                    Num,
                    546..549,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            556..562,
                        ),
                        Some(
                            (
                                Cast(
                                    (
                                        Command(
                                            [
                                                (
                                                    Unsafe,
                                                    563..569,
                                                ),
                                            ],
                                            [
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    570..571,
                                                ),
                                                (
                                                    Text(
                                                        "echo",
                                                    ),
                                                    571..575,
                                                ),
                                                (
                                                    Text(
                                                        "\"",
                                                    ),
                                                    576..577,
                                                ),
                                                (
                                                    Expression(
                                                        (
                                                            Var(
                                                                (
                                                                    "number",
                                                                    578..584,
                                                                ),
                                                            ),
                                                            578..584,
                                                        ),
                                                    ),
                                                    577..585,
                                                ),
                                                (
                                                    Text(
                                                        "\"",
                                                    ),
                                                    585..586,
                                                ),
                                                (
                                                    Text(
                                                        "|",
                                                    ),
                                                    587..588,
                                                ),
                                                (
                                                    Text(
                                                        "awk",
                                                    ),
                                                    589..592,
                                                ),
                                                (
                                                    Text(
                                                        "'",
                                                    ),
                                                    593..594,
                                                ),
                                                (
                                                    Escape(
                                                        "{",
                                                    ),
                                                    594..596,
                                                ),
                                                (
                                                    Text(
                                                        "printf",
                                                    ),
                                                    596..602,
                                                ),
                                                (
                                                    Text(
                                                        "\"",
                                                    ),
                                                    603..604,
                                                ),
                                                (
                                                    Text(
                                                        "%",
                                                    ),
                                                    604..605,
                                                ),
                                                (
                                                    Text(
                                                        "d",
                                                    ),
                                                    605..606,
                                                ),
                                                (
                                                    Text(
                                                        "\"",
                                                    ),
                                                    606..607,
                                                ),
                                                (
                                                    Text(
                                                        ",",
                                                    ),
                                                    607..608,
                                                ),
                                                (
                                                    Text(
                                                        "(",
                                                    ),
                                                    609..610,
                                                ),
                                                (
                                                    Escape(
                                                        "$",
                                                    ),
                                                    610..612,
                                                ),
                                                (
                                                    Text(
                                                        "1",
                                                    ),
                                                    612..613,
                                                ),
                                                (
                                                    Text(
                                                        "<",
                                                    ),
                                                    614..615,
                                                ),
                                                (
                                                    Text(
                                                        "0",
                                                    ),
                                                    616..617,
                                                ),
                                                (
                                                    Text(
                                                        "?",
                                                    ),
                                                    618..619,
                                                ),
                                                (
                                                    Text(
                                                        "int",
                                                    ),
                                                    620..623,
                                                ),
                                                (
                                                    Text(
                                                        "(",
                                                    ),
                                                    623..624,
                                                ),
                                                (
                                                    Escape(
                                                        "$",
                                                    ),
                                                    624..626,
                                                ),
                                                (
                                                    Text(
                                                        "1",
                                                    ),
                                                    626..627,
                                                ),
                                                (
                                                    Text(
                                                        ")",
                                                    ),
                                                    627..628,
                                                ),
                                                (
                                                    CommandOption(
                                                        "-1",
                                                    ),
                                                    629..632,
                                                ),
                                                (
                                                    Text(
                                                        ":",
                                                    ),
                                                    633..634,
                                                ),
                                                (
                                                    Text(
                                                        "int",
                                                    ),
                                                    635..638,
                                                ),
                                                (
                                                    Text(
                                                        "(",
                                                    ),
                                                    638..639,
                                                ),
                                                (
                                                    Escape(
                                                        "$",
                                                    ),
                                                    639..641,
                                                ),
                                                (
                                                    Text(
                                                        "1",
                                                    ),
                                                    641..642,
                                                ),
                                                (
                                                    Text(
                                                        ")",
                                                    ),
                                                    642..643,
                                                ),
                                                (
                                                    Text(
                                                        ")",
                                                    ),
                                                    643..644,
                                                ),
                                                (
                                                    Text(
                                                        "}",
                                                    ),
                                                    644..645,
                                                ),
                                                (
                                                    Text(
                                                        "'",
                                                    ),
                                                    645..646,
                                                ),
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    646..647,
                                                ),
                                            ],
                                            None,
                                        ),
                                        563..647,
                                    ),
                                    (
                                        "as",
                                        648..650,
                                    ),
                                    (
                                        Num,
                                        651..654,
                                    ),
                                ),
                                563..654,
                            ),
                        ),
                    ),
                    556..654,
                ),
            ],
        ),
        497..656,
    ),
    (
        Statement(
            (
                DocString(
                    "Returns the smallest integer greater than or equal to the number",
                ),
                658..727,
            ),
        ),
        658..727,
    ),
    (
        FunctionDefinition(
            [
                (
                    AllowAbsurdCast,
                    727..747,
                ),
            ],
            (
                true,
                748..751,
            ),
            (
                "fun",
                752..755,
            ),
            (
                "ceil",
                756..760,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            761..761,
                        ),
                        (
                            "number",
                            761..767,
                        ),
                        (
                            Num,
                            769..772,
                        ),
                    ),
                    761..772,
                ),
            ],
            Some(
                (
                    Num,
                    775..778,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            785..791,
                        ),
                        Some(
                            (
                                Add(
                                    (
                                        FunctionInvocation(
                                            [],
                                            (
                                                "floor",
                                                792..797,
                                            ),
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "number",
                                                            798..804,
                                                        ),
                                                    ),
                                                    798..804,
                                                ),
                                            ],
                                            None,
                                        ),
                                        792..805,
                                    ),
                                    (
                                        Number(
                                            (
                                                1.0,
                                                808..809,
                                            ),
                                        ),
                                        808..809,
                                    ),
                                ),
                                792..809,
                            ),
                        ),
                    ),
                    785..809,
                ),
            ],
        ),
        727..811,
    ),
    (
        Statement(
            (
                DocString(
                    "Returns the absolute value of the number",
                ),
                813..858,
            ),
        ),
        813..858,
    ),
    (
        FunctionDefinition(
            [
                (
                    AllowAbsurdCast,
                    858..878,
                ),
            ],
            (
                true,
                879..882,
            ),
            (
                "fun",
                883..886,
            ),
            (
                "abs",
                887..890,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            891..891,
                        ),
                        (
                            "number",
                            891..897,
                        ),
                        (
                            Num,
                            899..902,
                        ),
                    ),
                    891..902,
                ),
            ],
            Some(
                (
                    Num,
                    905..908,
                ),
            ),
            [
                (
                    IfCondition(
                        (
                            "if",
                            915..917,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Lt(
                                        (
                                            Var(
                                                (
                                                    "number",
                                                    918..924,
                                                ),
                                            ),
                                            918..924,
                                        ),
                                        (
                                            Number(
                                                (
                                                    0.0,
                                                    927..928,
                                                ),
                                            ),
                                            927..928,
                                        ),
                                    ),
                                    918..928,
                                ),
                                (
                                    Return(
                                        (
                                            "return",
                                            930..936,
                                        ),
                                        Some(
                                            (
                                                Neg(
                                                    (
                                                        "-",
                                                        937..938,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "number",
                                                                938..944,
                                                            ),
                                                        ),
                                                        938..944,
                                                    ),
                                                ),
                                                938..944,
                                            ),
                                        ),
                                    ),
                                    930..944,
                                ),
                            ),
                            918..944,
                        ),
                        None,
                    ),
                    915..944,
                ),
                (
                    Return(
                        (
                            "return",
                            949..955,
                        ),
                        Some(
                            (
                                Var(
                                    (
                                        "number",
                                        956..962,
                                    ),
                                ),
                                956..962,
                            ),
                        ),
                    ),
                    949..962,
                ),
            ],
        ),
        858..964,
    ),
]
