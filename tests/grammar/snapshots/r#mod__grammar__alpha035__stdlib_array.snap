---
source: tests/grammar/alpha035.rs
expression: parse_unwrap(&tokenize(&stdlib))
---
[
    (
        Statement(
            (
                DocString(
                    "Returns index of the first value found in the specified array",
                ),
                0..66,
            ),
        ),
        0..66,
    ),
    (
        Statement(
            (
                DocString(
                    "If the value is not found, the function returns -1",
                ),
                66..121,
            ),
        ),
        66..121,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                121..124,
            ),
            (
                "fun",
                125..128,
            ),
            (
                "array_first_index",
                129..146,
            ),
            [
                (
                    Generic(
                        (
                            false,
                            147..147,
                        ),
                        (
                            "array",
                            147..152,
                        ),
                    ),
                    147..152,
                ),
                (
                    Generic(
                        (
                            false,
                            154..153,
                        ),
                        (
                            "value",
                            154..159,
                        ),
                    ),
                    154..159,
                ),
            ],
            Some(
                (
                    Num,
                    162..165,
                ),
            ),
            [
                (
                    IterLoop(
                        (
                            "loop",
                            172..176,
                        ),
                        (
                            WithIndex(
                                (
                                    "index",
                                    177..182,
                                ),
                                (
                                    "element",
                                    184..191,
                                ),
                            ),
                            177..191,
                        ),
                        (
                            "in",
                            192..194,
                        ),
                        (
                            Var(
                                (
                                    "array",
                                    195..200,
                                ),
                            ),
                            195..200,
                        ),
                        (
                            Block(
                                [],
                                [
                                    (
                                        IfCondition(
                                            (
                                                "if",
                                                211..213,
                                            ),
                                            (
                                                IfCondition(
                                                    (
                                                        Eq(
                                                            (
                                                                Cast(
                                                                    (
                                                                        Var(
                                                                            (
                                                                                "value",
                                                                                214..219,
                                                                            ),
                                                                        ),
                                                                        214..219,
                                                                    ),
                                                                    (
                                                                        "as",
                                                                        220..222,
                                                                    ),
                                                                    (
                                                                        Text,
                                                                        223..227,
                                                                    ),
                                                                ),
                                                                214..227,
                                                            ),
                                                            (
                                                                Cast(
                                                                    (
                                                                        Var(
                                                                            (
                                                                                "element",
                                                                                231..238,
                                                                            ),
                                                                        ),
                                                                        231..238,
                                                                    ),
                                                                    (
                                                                        "as",
                                                                        239..241,
                                                                    ),
                                                                    (
                                                                        Text,
                                                                        242..246,
                                                                    ),
                                                                ),
                                                                231..246,
                                                            ),
                                                        ),
                                                        214..246,
                                                    ),
                                                    (
                                                        Block(
                                                            [],
                                                            [
                                                                (
                                                                    Return(
                                                                        (
                                                                            "return",
                                                                            261..267,
                                                                        ),
                                                                        Some(
                                                                            (
                                                                                Var(
                                                                                    (
                                                                                        "index",
                                                                                        268..273,
                                                                                    ),
                                                                                ),
                                                                                268..273,
                                                                            ),
                                                                        ),
                                                                    ),
                                                                    261..273,
                                                                ),
                                                            ],
                                                        ),
                                                        247..283,
                                                    ),
                                                ),
                                                214..283,
                                            ),
                                            None,
                                        ),
                                        211..283,
                                    ),
                                ],
                            ),
                            201..289,
                        ),
                    ),
                    172..289,
                ),
                (
                    Return(
                        (
                            "return",
                            294..300,
                        ),
                        Some(
                            (
                                Neg(
                                    (
                                        "-",
                                        301..302,
                                    ),
                                    (
                                        Number(
                                            (
                                                1.0,
                                                302..303,
                                            ),
                                        ),
                                        302..303,
                                    ),
                                ),
                                302..303,
                            ),
                        ),
                    ),
                    294..303,
                ),
            ],
        ),
        121..305,
    ),
    (
        Statement(
            (
                DocString(
                    "Search the value in array and return an array with the index of the various items",
                ),
                307..393,
            ),
        ),
        307..393,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                393..396,
            ),
            (
                "fun",
                397..400,
            ),
            (
                "array_search",
                401..413,
            ),
            [
                (
                    Generic(
                        (
                            false,
                            414..414,
                        ),
                        (
                            "array",
                            414..419,
                        ),
                    ),
                    414..419,
                ),
                (
                    Generic(
                        (
                            false,
                            421..420,
                        ),
                        (
                            "value",
                            421..426,
                        ),
                    ),
                    421..426,
                ),
            ],
            Some(
                (
                    [Num],
                    429..434,
                ),
            ),
            [
                (
                    VariableInit(
                        (
                            "let",
                            441..444,
                        ),
                        (
                            "result",
                            445..451,
                        ),
                        (
                            DataType(
                                (
                                    [Num],
                                    454..459,
                                ),
                            ),
                            454..459,
                        ),
                    ),
                    441..459,
                ),
                (
                    IterLoop(
                        (
                            "loop",
                            464..468,
                        ),
                        (
                            WithIndex(
                                (
                                    "index",
                                    469..474,
                                ),
                                (
                                    "element",
                                    476..483,
                                ),
                            ),
                            469..483,
                        ),
                        (
                            "in",
                            484..486,
                        ),
                        (
                            Var(
                                (
                                    "array",
                                    487..492,
                                ),
                            ),
                            487..492,
                        ),
                        (
                            Block(
                                [],
                                [
                                    (
                                        IfCondition(
                                            (
                                                "if",
                                                503..505,
                                            ),
                                            (
                                                IfCondition(
                                                    (
                                                        Eq(
                                                            (
                                                                Cast(
                                                                    (
                                                                        Var(
                                                                            (
                                                                                "value",
                                                                                506..511,
                                                                            ),
                                                                        ),
                                                                        506..511,
                                                                    ),
                                                                    (
                                                                        "as",
                                                                        512..514,
                                                                    ),
                                                                    (
                                                                        Text,
                                                                        515..519,
                                                                    ),
                                                                ),
                                                                506..519,
                                                            ),
                                                            (
                                                                Cast(
                                                                    (
                                                                        Var(
                                                                            (
                                                                                "element",
                                                                                523..530,
                                                                            ),
                                                                        ),
                                                                        523..530,
                                                                    ),
                                                                    (
                                                                        "as",
                                                                        531..533,
                                                                    ),
                                                                    (
                                                                        Text,
                                                                        534..538,
                                                                    ),
                                                                ),
                                                                523..538,
                                                            ),
                                                        ),
                                                        506..538,
                                                    ),
                                                    (
                                                        Block(
                                                            [],
                                                            [
                                                                (
                                                                    ShorthandAdd(
                                                                        (
                                                                            "result",
                                                                            553..559,
                                                                        ),
                                                                        (
                                                                            Array(
                                                                                [
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "index",
                                                                                                564..569,
                                                                                            ),
                                                                                        ),
                                                                                        564..569,
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                            563..570,
                                                                        ),
                                                                    ),
                                                                    553..570,
                                                                ),
                                                            ],
                                                        ),
                                                        539..580,
                                                    ),
                                                ),
                                                506..580,
                                            ),
                                            None,
                                        ),
                                        503..580,
                                    ),
                                ],
                            ),
                            493..586,
                        ),
                    ),
                    464..586,
                ),
                (
                    Return(
                        (
                            "return",
                            591..597,
                        ),
                        Some(
                            (
                                Var(
                                    (
                                        "result",
                                        598..604,
                                    ),
                                ),
                                598..604,
                            ),
                        ),
                    ),
                    591..604,
                ),
            ],
        ),
        393..606,
    ),
    (
        Statement(
            (
                DocString(
                    "Check if the value is in the array",
                ),
                608..647,
            ),
        ),
        608..647,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                647..650,
            ),
            (
                "fun",
                651..654,
            ),
            (
                "includes",
                655..663,
            ),
            [
                (
                    Generic(
                        (
                            false,
                            664..664,
                        ),
                        (
                            "array",
                            664..669,
                        ),
                    ),
                    664..669,
                ),
                (
                    Generic(
                        (
                            false,
                            671..670,
                        ),
                        (
                            "value",
                            671..676,
                        ),
                    ),
                    671..676,
                ),
            ],
            None,
            [
                (
                    VariableInit(
                        (
                            "let",
                            684..687,
                        ),
                        (
                            "result",
                            688..694,
                        ),
                        (
                            Expression(
                                (
                                    FunctionInvocation(
                                        [],
                                        (
                                            "array_first_index",
                                            697..714,
                                        ),
                                        [
                                            (
                                                Var(
                                                    (
                                                        "array",
                                                        715..720,
                                                    ),
                                                ),
                                                715..720,
                                            ),
                                            (
                                                Var(
                                                    (
                                                        "value",
                                                        722..727,
                                                    ),
                                                ),
                                                722..727,
                                            ),
                                        ],
                                        None,
                                    ),
                                    697..728,
                                ),
                            ),
                            697..728,
                        ),
                    ),
                    684..728,
                ),
                (
                    Return(
                        (
                            "return",
                            733..739,
                        ),
                        Some(
                            (
                                Ge(
                                    (
                                        Var(
                                            (
                                                "result",
                                                740..746,
                                            ),
                                        ),
                                        740..746,
                                    ),
                                    (
                                        Number(
                                            (
                                                0.0,
                                                750..751,
                                            ),
                                        ),
                                        750..751,
                                    ),
                                ),
                                740..751,
                            ),
                        ),
                    ),
                    733..751,
                ),
            ],
        ),
        647..753,
    ),
]
