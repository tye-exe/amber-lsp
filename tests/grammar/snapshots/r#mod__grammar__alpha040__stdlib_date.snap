---
source: tests/grammar/alpha040.rs
expression: parse_unwrap(&tokenize(&stdlib))
---
[
    (
        Statement(
            (
                DocString(
                    "### EXPERIMENTAL",
                ),
                0..21,
            ),
        ),
        0..21,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                21..26,
            ),
        ),
        21..26,
    ),
    (
        Statement(
            (
                DocString(
                    "Formats a date with a special format.",
                ),
                26..68,
            ),
        ),
        26..68,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                68..72,
            ),
        ),
        68..72,
    ),
    (
        Statement(
            (
                DocString(
                    "If no date is specified, the current date is used.",
                ),
                72..127,
            ),
        ),
        72..127,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                127..131,
            ),
        ),
        127..131,
    ),
    (
        Statement(
            (
                DocString(
                    "If no format is specified, \"%FT%T%Z\" format is used.",
                ),
                131..188,
            ),
        ),
        131..188,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                188..192,
            ),
        ),
        188..192,
    ),
    (
        Statement(
            (
                DocString(
                    "For more info about format type \"man date\" on your shell or go to <https://www.gnu.org/software/coreutils/date>.",
                ),
                192..309,
            ),
        ),
        192..309,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                309..313,
            ),
        ),
        309..313,
    ),
    (
        Statement(
            (
                DocString(
                    "Format :",
                ),
                313..327,
            ),
        ),
        313..327,
    ),
    (
        Statement(
            (
                DocString(
                    "```",
                ),
                327..335,
            ),
        ),
        327..335,
    ),
    (
        Statement(
            (
                DocString(
                    "%%     a literal %",
                ),
                335..358,
            ),
        ),
        335..358,
    ),
    (
        Statement(
            (
                DocString(
                    "%a     locale's abbreviated weekday name (e.g., Sun)",
                ),
                358..415,
            ),
        ),
        358..415,
    ),
    (
        Statement(
            (
                DocString(
                    "%A     locale's full weekday name (e.g., Sunday)",
                ),
                415..468,
            ),
        ),
        415..468,
    ),
    (
        Statement(
            (
                DocString(
                    "%b     locale's abbreviated month name (e.g., Jan)",
                ),
                468..523,
            ),
        ),
        468..523,
    ),
    (
        Statement(
            (
                DocString(
                    "%B     locale's full month name (e.g., January)",
                ),
                523..575,
            ),
        ),
        523..575,
    ),
    (
        Statement(
            (
                DocString(
                    "%c     locale's date and time (e.g., Thu Mar  3 23:05:25 2005)",
                ),
                575..642,
            ),
        ),
        575..642,
    ),
    (
        Statement(
            (
                DocString(
                    "%C     century; like %Y, except omit last two digits (e.g., 20)",
                ),
                642..710,
            ),
        ),
        642..710,
    ),
    (
        Statement(
            (
                DocString(
                    "%d     day of month (e.g., 01)",
                ),
                710..745,
            ),
        ),
        710..745,
    ),
    (
        Statement(
            (
                DocString(
                    "%D     date; same as %m/%d/%y",
                ),
                745..779,
            ),
        ),
        745..779,
    ),
    (
        Statement(
            (
                DocString(
                    "%e     day of month, space padded; same as %_d",
                ),
                779..830,
            ),
        ),
        779..830,
    ),
    (
        Statement(
            (
                DocString(
                    "%F     full date; like %+4Y-%m-%d",
                ),
                830..868,
            ),
        ),
        830..868,
    ),
    (
        Statement(
            (
                DocString(
                    "%g     last two digits of year of ISO week number (see %G)",
                ),
                868..931,
            ),
        ),
        868..931,
    ),
    (
        Statement(
            (
                DocString(
                    "%G     year of ISO week number (see %V); normally useful only with %V",
                ),
                931..1005,
            ),
        ),
        931..1005,
    ),
    (
        Statement(
            (
                DocString(
                    "%h     same as %b",
                ),
                1005..1027,
            ),
        ),
        1005..1027,
    ),
    (
        Statement(
            (
                DocString(
                    "%H     hour (00..23)",
                ),
                1027..1052,
            ),
        ),
        1027..1052,
    ),
    (
        Statement(
            (
                DocString(
                    "%I     hour (01..12)",
                ),
                1052..1077,
            ),
        ),
        1052..1077,
    ),
    (
        Statement(
            (
                DocString(
                    "%j     day of year (001..366)",
                ),
                1077..1111,
            ),
        ),
        1077..1111,
    ),
    (
        Statement(
            (
                DocString(
                    "%k     hour, space padded ( 0..23); same as %_H",
                ),
                1111..1163,
            ),
        ),
        1111..1163,
    ),
    (
        Statement(
            (
                DocString(
                    "%l     hour, space padded ( 1..12); same as %_I",
                ),
                1163..1215,
            ),
        ),
        1163..1215,
    ),
    (
        Statement(
            (
                DocString(
                    "%m     month (01..12)",
                ),
                1215..1241,
            ),
        ),
        1215..1241,
    ),
    (
        Statement(
            (
                DocString(
                    "%M     minute (00..59)",
                ),
                1241..1268,
            ),
        ),
        1241..1268,
    ),
    (
        Statement(
            (
                DocString(
                    "%n     a newline",
                ),
                1268..1289,
            ),
        ),
        1268..1289,
    ),
    (
        Statement(
            (
                DocString(
                    "%N     nanoseconds (000000000..999999999)",
                ),
                1289..1335,
            ),
        ),
        1289..1335,
    ),
    (
        Statement(
            (
                DocString(
                    "%p     locale's equivalent of either AM or PM; blank if not known",
                ),
                1335..1405,
            ),
        ),
        1335..1405,
    ),
    (
        Statement(
            (
                DocString(
                    "%P     like %p, but lower case",
                ),
                1405..1440,
            ),
        ),
        1405..1440,
    ),
    (
        Statement(
            (
                DocString(
                    "%q     quarter of year (1..4)",
                ),
                1440..1474,
            ),
        ),
        1440..1474,
    ),
    (
        Statement(
            (
                DocString(
                    "%r     locale's 12-hour clock time (e.g., 11:11:04 PM)",
                ),
                1474..1533,
            ),
        ),
        1474..1533,
    ),
    (
        Statement(
            (
                DocString(
                    "%R     24-hour hour and minute; same as %H:%M",
                ),
                1533..1583,
            ),
        ),
        1533..1583,
    ),
    (
        Statement(
            (
                DocString(
                    "%s     seconds since the Epoch (1970-01-01 00:00 UTC)",
                ),
                1583..1641,
            ),
        ),
        1583..1641,
    ),
    (
        Statement(
            (
                DocString(
                    "%S     second (00..60)",
                ),
                1641..1668,
            ),
        ),
        1641..1668,
    ),
    (
        Statement(
            (
                DocString(
                    "%t     a tab",
                ),
                1668..1685,
            ),
        ),
        1668..1685,
    ),
    (
        Statement(
            (
                DocString(
                    "%T     time; same as %H:%M:%S",
                ),
                1685..1719,
            ),
        ),
        1685..1719,
    ),
    (
        Statement(
            (
                DocString(
                    "%u     day of week (1..7); 1 is Monday",
                ),
                1719..1762,
            ),
        ),
        1719..1762,
    ),
    (
        Statement(
            (
                DocString(
                    "%U     week number of year, with Sunday as first day of week (00..53)",
                ),
                1762..1836,
            ),
        ),
        1762..1836,
    ),
    (
        Statement(
            (
                DocString(
                    "%V     ISO week number, with Monday as first day of week (01..53)",
                ),
                1836..1906,
            ),
        ),
        1836..1906,
    ),
    (
        Statement(
            (
                DocString(
                    "%w     day of week (0..6); 0 is Sunday",
                ),
                1906..1949,
            ),
        ),
        1906..1949,
    ),
    (
        Statement(
            (
                DocString(
                    "%W     week number of year, with Monday as first day of week (00..53)",
                ),
                1949..2023,
            ),
        ),
        1949..2023,
    ),
    (
        Statement(
            (
                DocString(
                    "%x     locale's date representation (e.g., 12/31/99)",
                ),
                2023..2080,
            ),
        ),
        2023..2080,
    ),
    (
        Statement(
            (
                DocString(
                    "%X     locale's time representation (e.g., 23:13:48)",
                ),
                2080..2137,
            ),
        ),
        2080..2137,
    ),
    (
        Statement(
            (
                DocString(
                    "%y     last two digits of year (00..99)",
                ),
                2137..2181,
            ),
        ),
        2137..2181,
    ),
    (
        Statement(
            (
                DocString(
                    "%Y     year",
                ),
                2181..2197,
            ),
        ),
        2181..2197,
    ),
    (
        Statement(
            (
                DocString(
                    "%z     +hhmm numeric time zone (e.g., -0400)",
                ),
                2197..2246,
            ),
        ),
        2197..2246,
    ),
    (
        Statement(
            (
                DocString(
                    "%:z    +hh:mm numeric time zone (e.g., -04:00)",
                ),
                2246..2297,
            ),
        ),
        2246..2297,
    ),
    (
        Statement(
            (
                DocString(
                    "%::z   +hh:mm:ss numeric time zone (e.g., -04:00:00)",
                ),
                2297..2354,
            ),
        ),
        2297..2354,
    ),
    (
        Statement(
            (
                DocString(
                    "%:::z  numeric time zone with : to necessary precision (e.g., -04, +05:30)",
                ),
                2354..2433,
            ),
        ),
        2354..2433,
    ),
    (
        Statement(
            (
                DocString(
                    "%Z     alphabetic time zone abbreviation (e.g., EDT)",
                ),
                2433..2490,
            ),
        ),
        2433..2490,
    ),
    (
        Statement(
            (
                DocString(
                    "```",
                ),
                2490..2498,
            ),
        ),
        2490..2498,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                2498..2503,
            ),
        ),
        2498..2503,
    ),
    (
        Statement(
            (
                DocString(
                    "By default, date pads numeric fields with zeroes.  The following optional flags may follow '%':",
                ),
                2503..2603,
            ),
        ),
        2503..2603,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                2603..2607,
            ),
        ),
        2603..2607,
    ),
    (
        Statement(
            (
                DocString(
                    "```",
                ),
                2607..2615,
            ),
        ),
        2607..2615,
    ),
    (
        Statement(
            (
                DocString(
                    "-      (hyphen) do not pad the field",
                ),
                2615..2656,
            ),
        ),
        2615..2656,
    ),
    (
        Statement(
            (
                DocString(
                    "_      (underscore) pad with spaces",
                ),
                2656..2696,
            ),
        ),
        2656..2696,
    ),
    (
        Statement(
            (
                DocString(
                    "0      (zero) pad with zeros",
                ),
                2696..2729,
            ),
        ),
        2696..2729,
    ),
    (
        Statement(
            (
                DocString(
                    "+      pad with zeros, and put '+' before future years with >4 digits",
                ),
                2729..2803,
            ),
        ),
        2729..2803,
    ),
    (
        Statement(
            (
                DocString(
                    "^      use upper case if possible",
                ),
                2803..2841,
            ),
        ),
        2803..2841,
    ),
    (
        Statement(
            (
                DocString(
                    "#      use opposite case if possible",
                ),
                2841..2882,
            ),
        ),
        2841..2882,
    ),
    (
        Statement(
            (
                DocString(
                    "```",
                ),
                2882..2890,
            ),
        ),
        2882..2890,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2890..2893,
            ),
            (
                "fun",
                2894..2897,
            ),
            (
                "date_posix",
                2898..2908,
            ),
            [
                (
                    Optional(
                        (
                            false,
                            2909..2909,
                        ),
                        (
                            "format",
                            2909..2915,
                        ),
                        Some(
                            (
                                Text,
                                2917..2921,
                            ),
                        ),
                        (
                            Text(
                                [],
                            ),
                            2924..2926,
                        ),
                    ),
                    2909..2926,
                ),
                (
                    Optional(
                        (
                            false,
                            2928..2927,
                        ),
                        (
                            "date",
                            2928..2932,
                        ),
                        Some(
                            (
                                Text,
                                2934..2938,
                            ),
                        ),
                        (
                            Text(
                                [],
                            ),
                            2941..2943,
                        ),
                    ),
                    2928..2943,
                ),
                (
                    Optional(
                        (
                            false,
                            2945..2944,
                        ),
                        (
                            "utc",
                            2945..2948,
                        ),
                        Some(
                            (
                                Bool,
                                2950..2954,
                            ),
                        ),
                        (
                            Boolean(
                                (
                                    false,
                                    2957..2962,
                                ),
                            ),
                            2957..2962,
                        ),
                    ),
                    2945..2962,
                ),
            ],
            Some(
                (
                    Text?,
                    2965..2970,
                ),
            ),
            [
                (
                    IfCondition(
                        (
                            "if",
                            2977..2979,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Eq(
                                        (
                                            Var(
                                                (
                                                    "format",
                                                    2980..2986,
                                                ),
                                            ),
                                            2980..2986,
                                        ),
                                        (
                                            Text(
                                                [],
                                            ),
                                            2990..2992,
                                        ),
                                    ),
                                    2980..2992,
                                ),
                                (
                                    VariableSet(
                                        (
                                            "format",
                                            2994..3000,
                                        ),
                                        (
                                            Text(
                                                [
                                                    (
                                                        Text(
                                                            (
                                                                "%",
                                                                3004..3005,
                                                            ),
                                                        ),
                                                        3004..3005,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "FT",
                                                                3005..3007,
                                                            ),
                                                        ),
                                                        3005..3007,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "%",
                                                                3007..3008,
                                                            ),
                                                        ),
                                                        3007..3008,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "T",
                                                                3008..3009,
                                                            ),
                                                        ),
                                                        3008..3009,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "%",
                                                                3009..3010,
                                                            ),
                                                        ),
                                                        3009..3010,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "Z",
                                                                3010..3011,
                                                            ),
                                                        ),
                                                        3010..3011,
                                                    ),
                                                ],
                                            ),
                                            3003..3012,
                                        ),
                                    ),
                                    2994..3012,
                                ),
                            ),
                            2980..3012,
                        ),
                        None,
                    ),
                    2977..3012,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            3017..3019,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Eq(
                                        (
                                            Var(
                                                (
                                                    "date",
                                                    3020..3024,
                                                ),
                                            ),
                                            3020..3024,
                                        ),
                                        (
                                            Text(
                                                [],
                                            ),
                                            3028..3030,
                                        ),
                                    ),
                                    3020..3030,
                                ),
                                (
                                    VariableSet(
                                        (
                                            "date",
                                            3032..3036,
                                        ),
                                        (
                                            Command(
                                                [
                                                    (
                                                        Trust,
                                                        3039..3044,
                                                    ),
                                                ],
                                                [
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        3045..3046,
                                                    ),
                                                    (
                                                        Text(
                                                            "date",
                                                        ),
                                                        3047..3051,
                                                    ),
                                                    (
                                                        Text(
                                                            "+",
                                                        ),
                                                        3052..3053,
                                                    ),
                                                    (
                                                        Text(
                                                            "\"",
                                                        ),
                                                        3053..3054,
                                                    ),
                                                    (
                                                        Text(
                                                            "%",
                                                        ),
                                                        3054..3055,
                                                    ),
                                                    (
                                                        Text(
                                                            "FT",
                                                        ),
                                                        3055..3057,
                                                    ),
                                                    (
                                                        Text(
                                                            "%",
                                                        ),
                                                        3057..3058,
                                                    ),
                                                    (
                                                        Text(
                                                            "T",
                                                        ),
                                                        3058..3059,
                                                    ),
                                                    (
                                                        Text(
                                                            "%",
                                                        ),
                                                        3059..3060,
                                                    ),
                                                    (
                                                        Text(
                                                            "Z",
                                                        ),
                                                        3060..3061,
                                                    ),
                                                    (
                                                        Text(
                                                            "\"",
                                                        ),
                                                        3061..3062,
                                                    ),
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        3063..3064,
                                                    ),
                                                ],
                                                None,
                                            ),
                                            3039..3064,
                                        ),
                                    ),
                                    3032..3064,
                                ),
                            ),
                            3020..3064,
                        ),
                        None,
                    ),
                    3017..3064,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            3069..3071,
                        ),
                        (
                            IfCondition(
                                (
                                    Parentheses(
                                        (
                                            Var(
                                                (
                                                    "utc",
                                                    3073..3076,
                                                ),
                                            ),
                                            3073..3076,
                                        ),
                                    ),
                                    3072..3077,
                                ),
                                (
                                    Block(
                                        [],
                                        [
                                            (
                                                Return(
                                                    (
                                                        "return",
                                                        3088..3094,
                                                    ),
                                                    Some(
                                                        (
                                                            Command(
                                                                [],
                                                                [
                                                                    (
                                                                        Text(
                                                                            "$",
                                                                        ),
                                                                        3095..3096,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "date",
                                                                        ),
                                                                        3097..3101,
                                                                    ),
                                                                    (
                                                                        CommandOption(
                                                                            "--utc",
                                                                        ),
                                                                        3102..3107,
                                                                    ),
                                                                    (
                                                                        CommandOption(
                                                                            "-d",
                                                                        ),
                                                                        3108..3110,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "\"",
                                                                        ),
                                                                        3111..3112,
                                                                    ),
                                                                    (
                                                                        Expression(
                                                                            (
                                                                                Var(
                                                                                    (
                                                                                        "date",
                                                                                        3113..3117,
                                                                                    ),
                                                                                ),
                                                                                3113..3117,
                                                                            ),
                                                                        ),
                                                                        3112..3118,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "\"",
                                                                        ),
                                                                        3118..3119,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "+",
                                                                        ),
                                                                        3120..3121,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "\"",
                                                                        ),
                                                                        3121..3122,
                                                                    ),
                                                                    (
                                                                        Expression(
                                                                            (
                                                                                Var(
                                                                                    (
                                                                                        "format",
                                                                                        3123..3129,
                                                                                    ),
                                                                                ),
                                                                                3123..3129,
                                                                            ),
                                                                        ),
                                                                        3122..3130,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "\"",
                                                                        ),
                                                                        3130..3131,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "$",
                                                                        ),
                                                                        3132..3133,
                                                                    ),
                                                                ],
                                                                Some(
                                                                    (
                                                                        Propagate,
                                                                        3133..3134,
                                                                    ),
                                                                ),
                                                            ),
                                                            3095..3134,
                                                        ),
                                                    ),
                                                ),
                                                3088..3134,
                                            ),
                                        ],
                                    ),
                                    3078..3140,
                                ),
                            ),
                            3072..3140,
                        ),
                        Some(
                            (
                                Else(
                                    (
                                        "else",
                                        3141..3145,
                                    ),
                                    (
                                        Block(
                                            [],
                                            [
                                                (
                                                    Return(
                                                        (
                                                            "return",
                                                            3156..3162,
                                                        ),
                                                        Some(
                                                            (
                                                                Command(
                                                                    [],
                                                                    [
                                                                        (
                                                                            Text(
                                                                                "$",
                                                                            ),
                                                                            3163..3164,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                "date",
                                                                            ),
                                                                            3165..3169,
                                                                        ),
                                                                        (
                                                                            CommandOption(
                                                                                "-d",
                                                                            ),
                                                                            3170..3172,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                "\"",
                                                                            ),
                                                                            3173..3174,
                                                                        ),
                                                                        (
                                                                            Expression(
                                                                                (
                                                                                    Var(
                                                                                        (
                                                                                            "date",
                                                                                            3175..3179,
                                                                                        ),
                                                                                    ),
                                                                                    3175..3179,
                                                                                ),
                                                                            ),
                                                                            3174..3180,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                "\"",
                                                                            ),
                                                                            3180..3181,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                "+",
                                                                            ),
                                                                            3182..3183,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                "\"",
                                                                            ),
                                                                            3183..3184,
                                                                        ),
                                                                        (
                                                                            Expression(
                                                                                (
                                                                                    Var(
                                                                                        (
                                                                                            "format",
                                                                                            3185..3191,
                                                                                        ),
                                                                                    ),
                                                                                    3185..3191,
                                                                                ),
                                                                            ),
                                                                            3184..3192,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                "\"",
                                                                            ),
                                                                            3192..3193,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                "$",
                                                                            ),
                                                                            3194..3195,
                                                                        ),
                                                                    ],
                                                                    Some(
                                                                        (
                                                                            Propagate,
                                                                            3195..3196,
                                                                        ),
                                                                    ),
                                                                ),
                                                                3163..3196,
                                                            ),
                                                        ),
                                                    ),
                                                    3156..3196,
                                                ),
                                            ],
                                        ),
                                        3146..3202,
                                    ),
                                ),
                                3141..3202,
                            ),
                        ),
                    ),
                    3069..3202,
                ),
            ],
        ),
        2890..3208,
    ),
    (
        Statement(
            (
                DocString(
                    "Returns the current timestamp (seconds since the Epoch (1970-01-01 00:00 UTC)).",
                ),
                3210..3294,
            ),
        ),
        3210..3294,
    ),
    (
        FunctionDefinition(
            [
                (
                    AllowAbsurdCast,
                    3294..3314,
                ),
            ],
            (
                true,
                3315..3318,
            ),
            (
                "fun",
                3319..3322,
            ),
            (
                "date_now",
                3323..3331,
            ),
            [],
            Some(
                (
                    Num,
                    3335..3338,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3345..3351,
                        ),
                        Some(
                            (
                                Cast(
                                    (
                                        Command(
                                            [
                                                (
                                                    Trust,
                                                    3352..3357,
                                                ),
                                            ],
                                            [
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    3358..3359,
                                                ),
                                                (
                                                    Text(
                                                        "date",
                                                    ),
                                                    3360..3364,
                                                ),
                                                (
                                                    Text(
                                                        "+",
                                                    ),
                                                    3365..3366,
                                                ),
                                                (
                                                    Text(
                                                        "%",
                                                    ),
                                                    3366..3367,
                                                ),
                                                (
                                                    Text(
                                                        "s",
                                                    ),
                                                    3367..3368,
                                                ),
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    3369..3370,
                                                ),
                                            ],
                                            None,
                                        ),
                                        3352..3370,
                                    ),
                                    (
                                        "as",
                                        3371..3373,
                                    ),
                                    (
                                        Num,
                                        3374..3377,
                                    ),
                                ),
                                3352..3377,
                            ),
                        ),
                    ),
                    3345..3377,
                ),
            ],
        ),
        3294..3379,
    ),
    (
        Statement(
            (
                DocString(
                    "### EXPERIMENTAL",
                ),
                3381..3402,
            ),
        ),
        3381..3402,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                3402..3406,
            ),
        ),
        3402..3406,
    ),
    (
        Statement(
            (
                DocString(
                    "Adds a value to a date.",
                ),
                3406..3434,
            ),
        ),
        3406..3434,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                3434..3439,
            ),
        ),
        3434..3439,
    ),
    (
        Statement(
            (
                DocString(
                    "If no date is specified, the current date is used.",
                ),
                3439..3494,
            ),
        ),
        3439..3494,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                3494..3499,
            ),
        ),
        3494..3499,
    ),
    (
        Statement(
            (
                DocString(
                    "Example : `date_add(\"+3 days\")`",
                ),
                3499..3535,
            ),
        ),
        3499..3535,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                3535..3540,
            ),
        ),
        3535..3540,
    ),
    (
        Statement(
            (
                DocString(
                    "You can use (+/-):",
                ),
                3540..3564,
            ),
        ),
        3540..3564,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                3564..3568,
            ),
        ),
        3564..3568,
    ),
    (
        Statement(
            (
                DocString(
                    "- years",
                ),
                3568..3580,
            ),
        ),
        3568..3580,
    ),
    (
        Statement(
            (
                DocString(
                    "- months",
                ),
                3580..3593,
            ),
        ),
        3580..3593,
    ),
    (
        Statement(
            (
                DocString(
                    "- days",
                ),
                3593..3604,
            ),
        ),
        3593..3604,
    ),
    (
        Statement(
            (
                DocString(
                    "- hours",
                ),
                3604..3616,
            ),
        ),
        3604..3616,
    ),
    (
        Statement(
            (
                DocString(
                    "- minutes",
                ),
                3616..3630,
            ),
        ),
        3616..3630,
    ),
    (
        Statement(
            (
                DocString(
                    "- seconds",
                ),
                3630..3644,
            ),
        ),
        3630..3644,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3644..3647,
            ),
            (
                "fun",
                3648..3651,
            ),
            (
                "date_add",
                3652..3660,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3661..3661,
                        ),
                        (
                            "add",
                            3661..3664,
                        ),
                        (
                            Text,
                            3665..3669,
                        ),
                    ),
                    3661..3669,
                ),
                (
                    Optional(
                        (
                            false,
                            3671..3670,
                        ),
                        (
                            "date",
                            3671..3675,
                        ),
                        Some(
                            (
                                Text,
                                3676..3680,
                            ),
                        ),
                        (
                            Text(
                                [],
                            ),
                            3683..3685,
                        ),
                    ),
                    3671..3685,
                ),
                (
                    Optional(
                        (
                            false,
                            3687..3686,
                        ),
                        (
                            "utc",
                            3687..3690,
                        ),
                        Some(
                            (
                                Bool,
                                3692..3696,
                            ),
                        ),
                        (
                            Boolean(
                                (
                                    false,
                                    3699..3704,
                                ),
                            ),
                            3699..3704,
                        ),
                    ),
                    3687..3704,
                ),
            ],
            Some(
                (
                    Text?,
                    3707..3712,
                ),
            ),
            [
                (
                    IfCondition(
                        (
                            "if",
                            3719..3721,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Eq(
                                        (
                                            Var(
                                                (
                                                    "date",
                                                    3722..3726,
                                                ),
                                            ),
                                            3722..3726,
                                        ),
                                        (
                                            Text(
                                                [],
                                            ),
                                            3730..3732,
                                        ),
                                    ),
                                    3722..3732,
                                ),
                                (
                                    VariableSet(
                                        (
                                            "date",
                                            3734..3738,
                                        ),
                                        (
                                            Command(
                                                [
                                                    (
                                                        Trust,
                                                        3741..3746,
                                                    ),
                                                ],
                                                [
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        3747..3748,
                                                    ),
                                                    (
                                                        Text(
                                                            "date",
                                                        ),
                                                        3749..3753,
                                                    ),
                                                    (
                                                        Text(
                                                            "+",
                                                        ),
                                                        3754..3755,
                                                    ),
                                                    (
                                                        Text(
                                                            "\"",
                                                        ),
                                                        3755..3756,
                                                    ),
                                                    (
                                                        Text(
                                                            "%",
                                                        ),
                                                        3756..3757,
                                                    ),
                                                    (
                                                        Text(
                                                            "FT",
                                                        ),
                                                        3757..3759,
                                                    ),
                                                    (
                                                        Text(
                                                            "%",
                                                        ),
                                                        3759..3760,
                                                    ),
                                                    (
                                                        Text(
                                                            "T",
                                                        ),
                                                        3760..3761,
                                                    ),
                                                    (
                                                        Text(
                                                            "%",
                                                        ),
                                                        3761..3762,
                                                    ),
                                                    (
                                                        Text(
                                                            "Z",
                                                        ),
                                                        3762..3763,
                                                    ),
                                                    (
                                                        Text(
                                                            "\"",
                                                        ),
                                                        3763..3764,
                                                    ),
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        3765..3766,
                                                    ),
                                                ],
                                                None,
                                            ),
                                            3741..3766,
                                        ),
                                    ),
                                    3734..3766,
                                ),
                            ),
                            3722..3766,
                        ),
                        None,
                    ),
                    3719..3766,
                ),
                (
                    Return(
                        (
                            "return",
                            3771..3777,
                        ),
                        Some(
                            (
                                FunctionInvocation(
                                    [],
                                    (
                                        "date_posix",
                                        3778..3788,
                                    ),
                                    [
                                        (
                                            Text(
                                                [],
                                            ),
                                            3789..3791,
                                        ),
                                        (
                                            Text(
                                                [
                                                    (
                                                        Expression(
                                                            (
                                                                FunctionInvocation(
                                                                    [],
                                                                    (
                                                                        "date_posix",
                                                                        3795..3805,
                                                                    ),
                                                                    [
                                                                        (
                                                                            Text(
                                                                                [
                                                                                    (
                                                                                        Text(
                                                                                            (
                                                                                                "%",
                                                                                                3807..3808,
                                                                                            ),
                                                                                        ),
                                                                                        3807..3808,
                                                                                    ),
                                                                                    (
                                                                                        Text(
                                                                                            (
                                                                                                "F",
                                                                                                3808..3809,
                                                                                            ),
                                                                                        ),
                                                                                        3808..3809,
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                            3806..3810,
                                                                        ),
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "date",
                                                                                    3812..3816,
                                                                                ),
                                                                            ),
                                                                            3812..3816,
                                                                        ),
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "utc",
                                                                                    3818..3821,
                                                                                ),
                                                                            ),
                                                                            3818..3821,
                                                                        ),
                                                                    ],
                                                                    Some(
                                                                        (
                                                                            Propagate,
                                                                            3822..3823,
                                                                        ),
                                                                    ),
                                                                ),
                                                                3795..3823,
                                                            ),
                                                        ),
                                                        3794..3824,
                                                    ),
                                                    (
                                                        Expression(
                                                            (
                                                                Var(
                                                                    (
                                                                        "add",
                                                                        3826..3829,
                                                                    ),
                                                                ),
                                                                3826..3829,
                                                            ),
                                                        ),
                                                        3825..3830,
                                                    ),
                                                    (
                                                        Expression(
                                                            (
                                                                FunctionInvocation(
                                                                    [],
                                                                    (
                                                                        "date_posix",
                                                                        3832..3842,
                                                                    ),
                                                                    [
                                                                        (
                                                                            Text(
                                                                                [
                                                                                    (
                                                                                        Text(
                                                                                            (
                                                                                                "%",
                                                                                                3844..3845,
                                                                                            ),
                                                                                        ),
                                                                                        3844..3845,
                                                                                    ),
                                                                                    (
                                                                                        Text(
                                                                                            (
                                                                                                "T",
                                                                                                3845..3846,
                                                                                            ),
                                                                                        ),
                                                                                        3845..3846,
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                            3843..3847,
                                                                        ),
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "date",
                                                                                    3849..3853,
                                                                                ),
                                                                            ),
                                                                            3849..3853,
                                                                        ),
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "utc",
                                                                                    3855..3858,
                                                                                ),
                                                                            ),
                                                                            3855..3858,
                                                                        ),
                                                                    ],
                                                                    Some(
                                                                        (
                                                                            Propagate,
                                                                            3859..3860,
                                                                        ),
                                                                    ),
                                                                ),
                                                                3832..3860,
                                                            ),
                                                        ),
                                                        3831..3861,
                                                    ),
                                                ],
                                            ),
                                            3793..3862,
                                        ),
                                        (
                                            Var(
                                                (
                                                    "utc",
                                                    3864..3867,
                                                ),
                                            ),
                                            3864..3867,
                                        ),
                                    ],
                                    Some(
                                        (
                                            Propagate,
                                            3868..3869,
                                        ),
                                    ),
                                ),
                                3778..3869,
                            ),
                        ),
                    ),
                    3771..3869,
                ),
            ],
        ),
        3644..3871,
    ),
    (
        Statement(
            (
                DocString(
                    "### EXPERIMENTAL",
                ),
                3873..3894,
            ),
        ),
        3873..3894,
    ),
    (
        Statement(
            (
                DocString(
                    "Compares two dates.",
                ),
                3894..3918,
            ),
        ),
        3894..3918,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                3918..3922,
            ),
        ),
        3918..3922,
    ),
    (
        Statement(
            (
                DocString(
                    "Returns 1 if date_a is after date_b.",
                ),
                3922..3963,
            ),
        ),
        3922..3963,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                3963..3967,
            ),
        ),
        3963..3967,
    ),
    (
        Statement(
            (
                DocString(
                    "Returns 0 if date_a and date_b is the same.",
                ),
                3967..4015,
            ),
        ),
        3967..4015,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                4015..4020,
            ),
        ),
        4015..4020,
    ),
    (
        Statement(
            (
                DocString(
                    "Returns -1 if date_b is after date_a.",
                ),
                4020..4062,
            ),
        ),
        4020..4062,
    ),
    (
        Statement(
            (
                DocString(
                    "",
                ),
                4062..4066,
            ),
        ),
        4062..4066,
    ),
    (
        Statement(
            (
                DocString(
                    "If date_b is not provided, current date will be used.",
                ),
                4066..4124,
            ),
        ),
        4066..4124,
    ),
    (
        FunctionDefinition(
            [
                (
                    AllowAbsurdCast,
                    4124..4144,
                ),
            ],
            (
                true,
                4145..4148,
            ),
            (
                "fun",
                4149..4152,
            ),
            (
                "date_compare",
                4153..4165,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            4166..4166,
                        ),
                        (
                            "date_a",
                            4166..4172,
                        ),
                        (
                            Text,
                            4174..4178,
                        ),
                    ),
                    4166..4178,
                ),
                (
                    Optional(
                        (
                            false,
                            4180..4179,
                        ),
                        (
                            "date_b",
                            4180..4186,
                        ),
                        Some(
                            (
                                Text,
                                4188..4192,
                            ),
                        ),
                        (
                            Text(
                                [],
                            ),
                            4195..4197,
                        ),
                    ),
                    4180..4197,
                ),
                (
                    Optional(
                        (
                            false,
                            4199..4198,
                        ),
                        (
                            "utc",
                            4199..4202,
                        ),
                        Some(
                            (
                                Bool,
                                4204..4208,
                            ),
                        ),
                        (
                            Boolean(
                                (
                                    false,
                                    4211..4216,
                                ),
                            ),
                            4211..4216,
                        ),
                    ),
                    4199..4216,
                ),
            ],
            Some(
                (
                    Num?,
                    4219..4223,
                ),
            ),
            [
                (
                    IfCondition(
                        (
                            "if",
                            4230..4232,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Eq(
                                        (
                                            Var(
                                                (
                                                    "date_b",
                                                    4233..4239,
                                                ),
                                            ),
                                            4233..4239,
                                        ),
                                        (
                                            Text(
                                                [],
                                            ),
                                            4243..4245,
                                        ),
                                    ),
                                    4233..4245,
                                ),
                                (
                                    VariableSet(
                                        (
                                            "date_b",
                                            4247..4253,
                                        ),
                                        (
                                            FunctionInvocation(
                                                [
                                                    (
                                                        Trust,
                                                        4256..4261,
                                                    ),
                                                ],
                                                (
                                                    "date_posix",
                                                    4262..4272,
                                                ),
                                                [
                                                    (
                                                        Text(
                                                            [],
                                                        ),
                                                        4273..4275,
                                                    ),
                                                    (
                                                        Text(
                                                            [],
                                                        ),
                                                        4277..4279,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "utc",
                                                                4281..4284,
                                                            ),
                                                        ),
                                                        4281..4284,
                                                    ),
                                                ],
                                                None,
                                            ),
                                            4256..4285,
                                        ),
                                    ),
                                    4247..4285,
                                ),
                            ),
                            4233..4285,
                        ),
                        None,
                    ),
                    4230..4285,
                ),
                (
                    VariableInit(
                        (
                            "let",
                            4290..4293,
                        ),
                        (
                            "timestamp_a",
                            4294..4305,
                        ),
                        (
                            Expression(
                                (
                                    Cast(
                                        (
                                            FunctionInvocation(
                                                [],
                                                (
                                                    "date_posix",
                                                    4308..4318,
                                                ),
                                                [
                                                    (
                                                        Text(
                                                            [
                                                                (
                                                                    Text(
                                                                        (
                                                                            "%",
                                                                            4320..4321,
                                                                        ),
                                                                    ),
                                                                    4320..4321,
                                                                ),
                                                                (
                                                                    Text(
                                                                        (
                                                                            "s",
                                                                            4321..4322,
                                                                        ),
                                                                    ),
                                                                    4321..4322,
                                                                ),
                                                            ],
                                                        ),
                                                        4319..4323,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "date_a",
                                                                4325..4331,
                                                            ),
                                                        ),
                                                        4325..4331,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "utc",
                                                                4333..4336,
                                                            ),
                                                        ),
                                                        4333..4336,
                                                    ),
                                                ],
                                                Some(
                                                    (
                                                        Propagate,
                                                        4337..4338,
                                                    ),
                                                ),
                                            ),
                                            4308..4338,
                                        ),
                                        (
                                            "as",
                                            4339..4341,
                                        ),
                                        (
                                            Num,
                                            4342..4345,
                                        ),
                                    ),
                                    4308..4345,
                                ),
                            ),
                            4308..4345,
                        ),
                    ),
                    4290..4345,
                ),
                (
                    VariableInit(
                        (
                            "let",
                            4350..4353,
                        ),
                        (
                            "timestamp_b",
                            4354..4365,
                        ),
                        (
                            Expression(
                                (
                                    Cast(
                                        (
                                            FunctionInvocation(
                                                [],
                                                (
                                                    "date_posix",
                                                    4368..4378,
                                                ),
                                                [
                                                    (
                                                        Text(
                                                            [
                                                                (
                                                                    Text(
                                                                        (
                                                                            "%",
                                                                            4380..4381,
                                                                        ),
                                                                    ),
                                                                    4380..4381,
                                                                ),
                                                                (
                                                                    Text(
                                                                        (
                                                                            "s",
                                                                            4381..4382,
                                                                        ),
                                                                    ),
                                                                    4381..4382,
                                                                ),
                                                            ],
                                                        ),
                                                        4379..4383,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "date_b",
                                                                4385..4391,
                                                            ),
                                                        ),
                                                        4385..4391,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "utc",
                                                                4393..4396,
                                                            ),
                                                        ),
                                                        4393..4396,
                                                    ),
                                                ],
                                                Some(
                                                    (
                                                        Propagate,
                                                        4397..4398,
                                                    ),
                                                ),
                                            ),
                                            4368..4398,
                                        ),
                                        (
                                            "as",
                                            4399..4401,
                                        ),
                                        (
                                            Num,
                                            4402..4405,
                                        ),
                                    ),
                                    4368..4405,
                                ),
                            ),
                            4368..4405,
                        ),
                    ),
                    4350..4405,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            4410..4412,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Gt(
                                        (
                                            Var(
                                                (
                                                    "timestamp_a",
                                                    4413..4424,
                                                ),
                                            ),
                                            4413..4424,
                                        ),
                                        (
                                            Var(
                                                (
                                                    "timestamp_b",
                                                    4427..4438,
                                                ),
                                            ),
                                            4427..4438,
                                        ),
                                    ),
                                    4413..4438,
                                ),
                                (
                                    Return(
                                        (
                                            "return",
                                            4440..4446,
                                        ),
                                        Some(
                                            (
                                                Number(
                                                    (
                                                        1.0,
                                                        4447..4448,
                                                    ),
                                                ),
                                                4447..4448,
                                            ),
                                        ),
                                    ),
                                    4440..4448,
                                ),
                            ),
                            4413..4448,
                        ),
                        None,
                    ),
                    4410..4448,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            4453..4455,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Eq(
                                        (
                                            Var(
                                                (
                                                    "timestamp_a",
                                                    4456..4467,
                                                ),
                                            ),
                                            4456..4467,
                                        ),
                                        (
                                            Var(
                                                (
                                                    "timestamp_b",
                                                    4471..4482,
                                                ),
                                            ),
                                            4471..4482,
                                        ),
                                    ),
                                    4456..4482,
                                ),
                                (
                                    Return(
                                        (
                                            "return",
                                            4484..4490,
                                        ),
                                        Some(
                                            (
                                                Number(
                                                    (
                                                        0.0,
                                                        4491..4492,
                                                    ),
                                                ),
                                                4491..4492,
                                            ),
                                        ),
                                    ),
                                    4484..4492,
                                ),
                            ),
                            4456..4492,
                        ),
                        None,
                    ),
                    4453..4492,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            4497..4499,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Lt(
                                        (
                                            Var(
                                                (
                                                    "timestamp_a",
                                                    4500..4511,
                                                ),
                                            ),
                                            4500..4511,
                                        ),
                                        (
                                            Var(
                                                (
                                                    "timestamp_b",
                                                    4514..4525,
                                                ),
                                            ),
                                            4514..4525,
                                        ),
                                    ),
                                    4500..4525,
                                ),
                                (
                                    Return(
                                        (
                                            "return",
                                            4527..4533,
                                        ),
                                        Some(
                                            (
                                                Neg(
                                                    (
                                                        "-",
                                                        4534..4535,
                                                    ),
                                                    (
                                                        Number(
                                                            (
                                                                1.0,
                                                                4535..4536,
                                                            ),
                                                        ),
                                                        4535..4536,
                                                    ),
                                                ),
                                                4535..4536,
                                            ),
                                        ),
                                    ),
                                    4527..4536,
                                ),
                            ),
                            4500..4536,
                        ),
                        None,
                    ),
                    4497..4536,
                ),
            ],
        ),
        4124..4538,
    ),
]
